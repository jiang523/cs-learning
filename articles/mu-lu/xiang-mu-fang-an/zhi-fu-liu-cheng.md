# 支付流程

1. 支付的流程
   1. 创建订单
   2. 检查余额
   3.  SDK唤起苹果支付，进行支付，支付完成苹果返回加密的recepits给SDK，SDK

       请求服务器验证recepits接口，服务器将加密的recepits访问苹果服务器，苹果服务器返回用户支付的结果，服务器根据结果来更新订单状态，并将订单结果返回给SDK
   4. SDK notify更新订单状态
   5. 订单支付完成，给用户增加余额
   6.  回调游戏服务器，告知订单支付完成，游戏服务器调用平台余额消费接口，根据道具的价格

       扣减余额，扣减成功后游戏服务器给玩家发道具。
2. 多渠道
3. 支付状态的验证
4. 退款
5. 补单
6. 对账
